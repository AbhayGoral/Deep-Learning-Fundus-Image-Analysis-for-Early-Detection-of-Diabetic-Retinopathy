<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
          rel="stylesheet">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">

    <title>Diabetic Retinopathy Detection | AI-Powered Diagnosis</title>

    <style>
        .btn-cta {
            background: linear-gradient(135deg, #00d4ff, #0066cc) !important;
            padding: 15px 40px !important;
            font-size: 1.1rem !important;
            font-weight: 700 !important;
            border: none !important;
            border-radius: 12px !important;
            box-shadow: 0 8px 25px rgba(0, 102, 204, 0.4) !important;
            color: white !important;
            transition: all 0.3s ease !important;
        }

        .btn-cta:hover {
            transform: translateY(-3px) !important;
            box-shadow: 0 12px 35px rgba(0, 102, 204, 0.6) !important;
            color: white !important;
        }

        .feature-box {
            background: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            margin: 20px;
        }

        .feature-box:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 35px rgba(0, 102, 204, 0.2);
        }

        .feature-box i {
            font-size: 3rem;
            background: linear-gradient(135deg, #0066cc, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
        }

        .feature-box h5 {
            color: #1a1a2e;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .feature-box p {
            color: #666;
            line-height: 1.6;
            margin: 0;
        }

        .cta-section {
            background: linear-gradient(135deg, #0066cc 0%, #764ba2 100%);
            padding: 80px 0;
            text-align: center;
            border-radius: 30px;
            margin: 60px 0;
        }

        .cta-section h2 {
            color: white;
            font-weight: 800;
            font-size: 2.5rem;
            margin-bottom: 20px;
        }

        .cta-section p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            margin-bottom: 40px;
        }
    </style>
</head>

<body>

<!-- ================= NAVBAR ================= -->

<nav class="navbar navbar-expand-lg navbar-dark sticky-top">
    <div class="container-fluid px-4">

        <a class="navbar-brand" href="{{ url_for('index') }}">
            <i class="fas fa-eye"></i> DR Detection
        </a>

        <button class="navbar-toggler" type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">

                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('index') }}">
                        <i class="fas fa-home me-2"></i>Home
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('predict') }}">
                        <i class="fas fa-stethoscope me-2"></i>Prediction
                    </a>
                </li>

                {% if session.get('user_id') %}
                    
                    <li class="nav-item">
                        <span class="nav-link">
                            <i class="fas fa-user-circle me-2"></i>{{ session.get('user_name') }}
                        </span>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('logout') }}">
                            <i class="fas fa-sign-out-alt me-2"></i>Logout
                        </a>
                    </li>

                {% else %}

                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('login') }}">
                            <i class="fas fa-sign-in-alt me-2"></i>Login
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('register') }}">
                            <i class="fas fa-user-plus me-2"></i>Register
                        </a>
                    </li>

                {% endif %}

            </ul>
        </div>
    </div>
</nav>

<!-- ================= FLASH MESSAGES ================= -->

<div class="container mt-3 px-4">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                    <i class="fas fa-check-circle me-2"></i>{{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
</div>

<!-- ================= HERO SECTION ================= -->

<section class="hero-section container-fluid px-0">
    <div class="container py-5">
        <div class="row align-items-center">
            <div class="col-lg-6 text-center text-lg-start">
                <h1 class="mb-4">
                    <i class="fas fa-microscope me-3"></i>Diabetic Retinopathy Detection
                </h1>

                <p class="lead mb-4">
                    Advanced AI-powered diagnostic tool for early detection of Diabetic Retinopathy. 
                    Analyze fundus images using deep learning technology to identify and classify 
                    retinopathy stages with high accuracy.
                </p>

                <div class="d-flex flex-column flex-sm-row gap-3">
                    {% if session.get('user_id') %}
                        <a href="{{ url_for('predict') }}" class="btn btn-cta">
                            <i class="fas fa-upload me-2"></i>Upload Image Now
                        </a>
                    {% else %}
                        <a href="{{ url_for('register') }}" class="btn btn-cta">
                            <i class="fas fa-rocket me-2"></i>Get Started
                        </a>
                        <a href="{{ url_for('login') }}" class="btn btn-outline-primary btn-lg">
                            <i class="fas fa-sign-in-alt me-2"></i>Login
                        </a>
                    {% endif %}
                </div>
            </div>

            <div class="col-lg-6 mt-4 mt-lg-0 text-center">
                <img src="https://img.icons8.com/color/400/000000/retina-scan.png"
                     alt="Eye Scan"
                     class="hero-img"
                     style="max-width: 400px; width: 100%;">
            </div>
        </div>
    </div>
</section>

<!-- ================= FEATURES SECTION ================= -->

<section class="py-5 container-fluid" style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);">
    <div class="container">
        <h2 class="section-title">Key Features</h2>
        <div class="underline"></div>

        <div class="row">
            <div class="col-md-4">
                <div class="feature-box">
                    <i class="fas fa-brain"></i>
                    <h5>AI-Powered Analysis</h5>
                    <p>Uses advanced deep learning with Xception model for accurate detection and classification</p>
                </div>
            </div>

            <div class="col-md-4">
                <div class="feature-box">
                    <i class="fas fa-bolt"></i>
                    <h5>Fast Results</h5>
                    <p>Get instant predictions on retinal images in seconds</p>
                </div>
            </div>

            <div class="col-md-4">
                <div class="feature-box">
                    <i class="fas fa-lock"></i>
                    <h5>Secure & Private</h5>
                    <p>Your medical data is encrypted and handled with utmost care</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ================= ABOUT SECTION ================= -->

<section class="about-section container-fluid px-4 py-5">
    <div class="container">
        <h2 class="section-title">About Diabetic Retinopathy</h2>
        <div class="underline"></div>

        <div class="row">
            <div class="col-md-6">
                <div style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);">
                    <h4><i class="fas fa-exclamation-triangle me-2" style="color: #ff006e;"></i>The Problem</h4>
                    <p>
                        Diabetic Retinopathy (DR) is a serious eye complication caused by high blood sugar from diabetes. 
                        It damages the blood vessels of the light-sensitive tissue at the back of the eye (retina), potentially 
                        leading to vision loss and blindness if left undetected. Early diagnosis is crucial for preventing 
                        severe complications and preserving vision.
                    </p>
                </div>
            </div>

            <div class="col-md-6">
                <div style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08); margin-top: 15px;">
                    <h4><i class="fas fa-lightbulb me-2" style="color: #0066cc;"></i>Our Solution</h4>
                    <p>
                        This project leverages Transfer Learning and Convolutional Neural Networks (CNN) to automatically detect 
                        and classify different stages of Diabetic Retinopathy. Users can upload fundus images through our 
                        intuitive web interface and receive instant, accurate predictions. The system classifies retinopathy into 
                        5 stages: No DR, Mild NPDR, Moderate NPDR, Severe NPDR, and Proliferative DR.
                    </p>
                </div>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-12">
                <div style="background: linear-gradient(135deg, #0066cc 0%, #764ba2 100%); padding: 30px; border-radius: 15px; color: white; text-align: center;">
                    <h4><i class="fas fa-graduation-cap me-2"></i>Classification Stages</h4>
                    <p style="margin-bottom: 0;">
                        <strong>No DR:</strong> No signs of diabetic retinopathy |
                        <strong>Mild NPDR:</strong> Earliest signs |
                        <strong>Moderate NPDR:</strong> More blood vessel damage |
                        <strong>Severe NPDR:</strong> Extensive blood vessel blockage |
                        <strong>Proliferative DR:</strong> New abnormal blood vessels
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ================= CTA SECTION ================= -->

<section class="cta-section container-fluid px-4">
    <div class="container">
        <h2>Ready to Get Started?</h2>
        <p>Upload your fundus image and get instant AI-powered diagnosis in seconds</p>
        
        {% if session.get('user_id') %}
            <a href="{{ url_for('predict') }}" class="btn btn-light btn-lg">
                <i class="fas fa-arrow-right me-2"></i>Go to Prediction
            </a>
        {% else %}
            <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center">
                <a href="{{ url_for('register') }}" class="btn btn-light btn-lg">
                    <i class="fas fa-user-plus me-2"></i>Create Account
                </a>
                <a href="{{ url_for('login') }}" class="btn btn-outline-light btn-lg">
                    <i class="fas fa-sign-in-alt me-2"></i>Login
                </a>
            </div>
        {% endif %}
    </div>
</section>

<!-- ================= FOOTER ================= -->

<footer style="background: #1a1a2e; color: white; padding: 40px 0; text-align: center; margin-top: 60px;">
    <div class="container">
        <p style="margin: 0;">
            <i class="fas fa-heart" style="color: #ff006e;"></i> 
            &copy; 2024 Diabetic Retinopathy Detection System. All rights reserved.
        </p>
        <p style="margin: 10px 0 0 0; color: #aaa; font-size: 0.9rem;">
            Powered by AI & Deep Learning | Early Detection Saves Vision
        </p>
    </div>
</footer>

<!-- Bootstrap 5 JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>

<!-- Auto-hide alerts after 5 seconds -->
<script>
    document.querySelectorAll('.alert').forEach(function(alert) {
        setTimeout(function() {
            var bsAlert = new bootstrap.Alert(alert);
            bsAlert.close();
        }, 5000);
    });
</script>

</body>
</html>
